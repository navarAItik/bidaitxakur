<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MISI√ìN GAL√ÅCTICA LAIKA: Dominio Linux - 2¬∫ASI_ADSO_25_26</title>
    <style>
        :root {
            --primary: #1a237e;
            --secondary: #3949ab;
            --accent: #e91e63;
            --light: #e8eaf6;
            --dark: #283593;
            --success: #4caf50;
            --warning: #ff9800;
            --code-bg: #1e1e2e;
            --text: #333;
            --space: #0d1b2a;
            --star: #ffffff;
            --rocket: #ff6b6b;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text);
            background: linear-gradient(135deg, var(--space) 0%, #1e3a8a 100%);
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }
        
        /* Estrellas animadas en el fondo */
        body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(2px 2px at 20px 30px, var(--star), transparent),
                radial-gradient(2px 2px at 40px 70px, var(--star), transparent),
                radial-gradient(1px 1px at 90px 40px, var(--star), transparent),
                radial-gradient(1px 1px at 130px 80px, var(--star), transparent),
                radial-gradient(2px 2px at 160px 30px, var(--star), transparent);
            background-repeat: repeat;
            background-size: 200px 100px;
            z-index: -1;
            animation: stars 60s linear infinite;
        }
        
        @keyframes stars {
            from { transform: translateY(0); }
            to { transform: translateY(-100px); }
        }
        
        /* Cohete animado */
        .rocket {
            position: fixed;
            bottom: -100px;
            right: 10%;
            font-size: 3rem;
            animation: launch 20s linear infinite;
            z-index: -1;
        }
        
        @keyframes launch {
            0% { 
                transform: translateY(0) rotate(45deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            100% { 
                transform: translateY(-100vh) rotate(45deg);
                opacity: 0;
            }
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--dark) 100%);
            color: white;
            padding: 2rem;
            border-radius: 15px;
            margin-bottom: 2rem;
            box-shadow: 0 8px 16px rgba(0,0,0,0.3);
            text-align: center;
            position: relative;
            overflow: hidden;
            border: 2px solid var(--accent);
        }
        
        header::before {
            content: "üêï";
            position: absolute;
            top: 10px;
            right: 20px;
            font-size: 3rem;
            opacity: 0.2;
            transform: rotate(25deg);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: white;
            text-shadow: 0 2px 4px rgba(0,0,0,0.5);
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .mission-concept {
            background: rgba(255, 255, 255, 0.95);
            padding: 2rem;
            border-radius: 15px;
            margin-bottom: 2rem;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255,255,255,0.3);
        }
        
        .concept-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }
        
        .concept-card {
            background: var(--light);
            padding: 1.5rem;
            border-radius: 10px;
            border-left: 4px solid var(--secondary);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .concept-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
        }
        
        .concept-card h3 {
            color: var(--primary);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
        }
        
        .concept-card h3::before {
            content: "üöÄ";
            margin-right: 10px;
        }
        
        .practice-container {
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: 2rem;
        }
        
        .navigation {
            background: rgba(255, 255, 255, 0.95);
            padding: 1.5rem;
            border-radius: 15px;
            height: fit-content;
            position: sticky;
            top: 20px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255,255,255,0.3);
        }
        
        .nav-title {
            color: var(--primary);
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--light);
            display: flex;
            align-items: center;
        }
        
        .nav-title::before {
            content: "üêï";
            margin-right: 10px;
        }
        
        .nav-list {
            list-style: none;
        }
        
        .nav-item {
            margin-bottom: 0.5rem;
        }
        
        .nav-link {
            display: block;
            padding: 0.75rem 1rem;
            color: var(--dark);
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.3s ease;
            border-left: 3px solid transparent;
        }
        
        .nav-link:hover {
            background: var(--secondary);
            color: white;
            border-left: 3px solid var(--accent);
            transform: translateX(5px);
        }
        
        .content {
            background: rgba(255, 255, 255, 0.95);
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255,255,255,0.3);
        }
        
        .section {
            margin-bottom: 3rem;
            scroll-margin-top: 20px;
        }
        
        .section-title {
            color: var(--primary);
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--light);
            display: flex;
            align-items: center;
            position: relative;
        }
        
        .section-title::before {
            content: "";
            display: inline-block;
            width: 10px;
            height: 30px;
            background: var(--secondary);
            margin-right: 10px;
            border-radius: 2px;
        }
        
        .step {
            background: var(--light);
            padding: 1.5rem;
            border-radius: 10px;
            margin-bottom: 1.5rem;
            border-left: 4px solid var(--success);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .step-title {
            color: var(--primary);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
        }
        
        .step-title::before {
            content: "‚ñ∂";
            color: var(--success);
            margin-right: 10px;
        }
        
        .code-block {
            background: var(--code-bg);
            color: #f8f8f2;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1rem 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            border-left: 4px solid var(--accent);
            box-shadow: inset 0 0 10px rgba(0,0,0,0.3);
            position: relative;
        }
        
        .code-block::before {
            content: "üìÑ";
            position: absolute;
            top: 10px;
            right: 15px;
            opacity: 0.5;
        }
        
        .explanation {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 8px;
            margin-top: 1rem;
            border-left: 4px solid var(--warning);
        }
        
        .explanation-title {
            color: var(--primary);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
        }
        
        .explanation-title::before {
            content: "‚Ñπ";
            margin-right: 10px;
            color: var(--warning);
        }
        
        .checklist {
            background: #e8f5e9;
            padding: 1.5rem;
            border-radius: 8px;
            margin-top: 1.5rem;
            border-left: 4px solid var(--success);
        }
        
        .checklist-title {
            color: var(--primary);
            margin-bottom: 1rem;
        }
        
        .checklist-item {
            margin-bottom: 0.5rem;
            display: flex;
            align-items: flex-start;
        }
        
        .checklist-item::before {
            content: "‚úì";
            color: var(--success);
            margin-right: 10px;
            font-weight: bold;
        }
        
        .important {
            background: #fff3cd;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1rem 0;
            border-left: 4px solid var(--warning);
        }
        
        .important-title {
            color: var(--primary);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
        }
        
        .important-title::before {
            content: "‚ö†";
            margin-right: 10px;
            color: var(--warning);
        }
        
        .success-box {
            background: #d4edda;
            color: #155724;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1.5rem 0;
            border-left: 4px solid var(--success);
            text-align: center;
        }
        
        .dog-paw {
            display: inline-block;
            margin: 0 5px;
            font-size: 1.2rem;
        }
        
        footer {
            text-align: center;
            margin-top: 3rem;
            padding: 1.5rem;
            color: white;
            opacity: 0.8;
        }
        
        .laika-tribute {
            background: rgba(255, 255, 255, 0.1);
            padding: 1rem;
            border-radius: 10px;
            margin: 1rem 0;
            text-align: center;
            color: white;
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        @media (max-width: 768px) {
            .practice-container {
                grid-template-columns: 1fr;
            }
            
            .navigation {
                position: static;
                margin-bottom: 2rem;
            }
            
            .rocket {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="rocket">üöÄ</div>
    
    <div class="container">
        <header>
            <h1>MISI√ìN GAL√ÅCTICA LAIKA üêï</h1>
            <p class="subtitle">Pr√°ctica de configuraci√≥n de dominio con Samba AD DC - 2¬∫ASI_ADSO_25_26</p>
        </header>
        
        <div class="laika-tribute">
            <p>‚ú® En honor a Laika, el primer ser vivo en orbitar la Tierra. Como ella, exploraremos nuevos territorios tecnol√≥gicos ‚ú®</p>
        </div>
        
        <div class="mission-concept">
            <h2>Concepto de la Misi√≥n</h2>
            <div class="concept-grid">
                <div class="concept-card">
                    <h3>üåå El Cuartel General (Servidor)</h3>
                    <p>Ser√° el controlador de dominio que gestiona usuarios, equipos y autenticaci√≥n para toda la flota.</p>
                </div>
                <div class="concept-card">
                    <h3>üöÄ Las Naves (Clientes)</h3>
                    <p>Equipos que se unir√°n al dominio y consultar√°n al servidor para autenticar usuarios.</p>
                </div>
                <div class="concept-card">
                    <h3>üêï La Tripulaci√≥n (Usuarios)</h3>
                    <p>Usuarios como Laika que podr√°n iniciar sesi√≥n en cualquier nave usando sus credenciales del dominio.</p>
                </div>
            </div>
        </div>
        
        <div class="practice-container">
            <nav class="navigation">
                <h3 class="nav-title">Navegaci√≥n de la Pr√°ctica</h3>
                <ul class="nav-list">
                    <li class="nav-item"><a href="#preparativos" class="nav-link">0. Preparativos de Red</a></li>
                    <li class="nav-item"><a href="#servidor" class="nav-link">1. Configurar Servidor</a></li>
                    <li class="nav-item"><a href="#cliente" class="nav-link">2. Configurar Cliente</a></li>
                    <li class="nav-item"><a href="#pruebas" class="nav-link">3. Pruebas Finales</a></li>
                    <li class="nav-item"><a href="#resumen" class="nav-link">4. Resumen Mental</a></li>
                </ul>
            </nav>
            
            <main class="content">
                <section id="preparativos" class="section">
                    <h2 class="section-title">0. Preparativos de Red: Que las naves se vean üõ∞Ô∏èüõ∞Ô∏è</h2>
                    
                    <div class="step">
                        <h3 class="step-title">0.1. Poner nombre al servidor y al cliente</h3>
                        <p><strong>En el servidor:</strong></p>
                        <div class="code-block">
sudo hostnamectl set-hostname hq-galactico
sudo reboot
                        </div>
                        
                        <p><strong>En el cliente:</strong></p>
                        <div class="code-block">
sudo hostnamectl set-hostname agente-01
sudo reboot
                        </div>
                        
                        <div class="explanation">
                            <h4 class="explanation-title">¬øQu√© est√°s haciendo?</h4>
                            <p>Le est√°s poniendo un nombre claro a cada m√°quina.</p>
                            
                            <h4 class="explanation-title">¬øPor qu√© es importante?</h4>
                            <p>Porque luego el dominio y el DNS usar√°n esos nombres. Es como ponerle nombre a cada base espacial para no confundirlas.</p>
                        </div>
                    </div>
                    
                    <div class="step">
                        <h3 class="step-title">0.2. IP fija en el servidor</h3>
                        <p><strong>En el servidor:</strong></p>
                        <p>Mira el nombre de la tarjeta de red:</p>
                        <div class="code-block">
ip a
                        </div>
                        <p>Apunta algo como enp0s3 o ens33.</p>
                        
                        <p>Edita la configuraci√≥n de red:</p>
                        <div class="code-block">
sudo nano /etc/netplan/00-installer-config.yaml
                        </div>
                        
                        <p>Ejemplo (cambia enp0s3 por tu interfaz):</p>
                        <div class="code-block">
network:
  version: 2
  renderer: networkd
  ethernets:
    enp0s3:
      addresses:
        - 192.168.1.10/24
      gateway4: 192.168.1.1
      nameservers:
        addresses: [192.168.1.10, 8.8.8.8]
                        </div>
                        
                        <p>Aplica los cambios:</p>
                        <div class="code-block">
sudo netplan apply
                        </div>
                        
                        <p>Comprueba:</p>
                        <div class="code-block">
ip a
ping -c 3 192.168.1.10
                        </div>
                        
                        <div class="explanation">
                            <h4 class="explanation-title">¬øQu√© est√°s haciendo?</h4>
                            <p>Le das al servidor una direcci√≥n fija: siempre estar√° en 192.168.1.10.</p>
                            
                            <h4 class="explanation-title">¬øPor qu√© es importante?</h4>
                            <p>Los clientes necesitan saber d√≥nde vive el jefe. Si su IP cambiara, dejar√≠an de encontrarlo.</p>
                        </div>
                    </div>
                    
                    <div class="step">
                        <h3 class="step-title">0.3. Ajustar /etc/hosts del servidor</h3>
                        <p><strong>En el servidor:</strong></p>
                        <div class="code-block">
sudo nano /etc/hosts
                        </div>
                        
                        <p>Aseg√∫rate de tener:</p>
                        <div class="code-block">
192.168.1.10   hq-galactico.clase.local   hq-galactico
127.0.0.1      localhost
                        </div>
                        
                        <div class="explanation">
                            <h4 class="explanation-title">¬øQu√© est√°s haciendo?</h4>
                            <p>Creas una mini "agenda local" para que el propio servidor sepa que hq-galactico.clase.local ‚Üí 192.168.1.10.</p>
                            
                            <h4 class="explanation-title">¬øPor qu√© es importante?</h4>
                            <p>Samba y Kerberos se apoyan mucho en nombres completos. Si el servidor no sabe ni c√≥mo se llama, todo lo dem√°s empieza mal.</p>
                        </div>
                    </div>
                </section>
                
                <section id="servidor" class="section">
                    <h2 class="section-title">1. Convertir el servidor en Cuartel General Gal√°ctico (Samba AD DC)</h2>
                    
                    <div class="step">
                        <h3 class="step-title">1.1. Instalar Samba AD DC y Kerberos</h3>
                        <p><strong>En el servidor:</strong></p>
                        <div class="code-block">
sudo apt update
sudo apt install samba-ad-dc krb5-user bind9-dnsutils
                        </div>
                        
                        <div class="important">
                            <h4 class="important-title">Nota importante</h4>
                            <p>Si krb5-user pregunta algo, de momento puedes pulsar ENTER (usaremos luego el fichero generado por Samba).</p>
                        </div>
                        
                        <div class="explanation">
                            <h4 class="explanation-title">¬øQu√© est√°s haciendo?</h4>
                            <p>Instalas samba-ad-dc (para que Linux sea un Controlador de Dominio), krb5-user (sistema de tickets de Kerberos) y bind9-dnsutils (herramientas para probar DNS).</p>
                            
                            <h4 class="explanation-title">¬øPor qu√© es importante?</h4>
                            <p>Sin estos programas, el servidor no puede ser el jefe del dominio ni comprobar contrase√±as.</p>
                        </div>
                    </div>
                    
                    <div class="step">
                        <h3 class="step-title">1.2. Desactivar los servicios Samba "normales"</h3>
                        <p><strong>En el servidor:</strong></p>
                        <div class="code-block">
sudo systemctl disable --now smbd nmbd winbind
sudo systemctl mask smbd nmbd winbind

sudo systemctl unmask samba-ad-dc
sudo systemctl enable samba-ad-dc
                        </div>
                        
                        <div class="explanation">
                            <h4 class="explanation-title">¬øQu√© est√°s haciendo?</h4>
                            <p>Apagas y "bloqueas" los servicios Samba de compartir carpetas cl√°sicos y activas el servicio especial samba-ad-dc para el dominio.</p>
                            
                            <h4 class="explanation-title">¬øPor qu√© es importante?</h4>
                            <p>Un controlador de dominio Samba usa un servicio distinto. Si mezclas los dos tipos de Samba, aparecen errores raros.</p>
                        </div>
                    </div>
                    
                    <div class="step">
                        <h3 class="step-title">1.3. Dejar sitio a la nueva configuraci√≥n de Samba</h3>
                        <p><strong>En el servidor:</strong></p>
                        <div class="code-block">
sudo mv /etc/samba/smb.conf /etc/samba/smb.conf.orig
                        </div>
                        
                        <div class="explanation">
                            <h4 class="explanation-title">¬øQu√© est√°s haciendo?</h4>
                            <p>Renombras el archivo de configuraci√≥n viejo de Samba.</p>
                            
                            <h4 class="explanation-title">¬øPor qu√© es importante?</h4>
                            <p>El comando que crea el dominio necesita escribir un smb.conf nuevo. Si existe uno, no lo toca, y entonces el dominio no se configura bien.</p>
                        </div>
                    </div>
                    
                    <div class="step">
                        <h3 class="step-title">1.4. Crear el dominio (provisionar Samba AD DC)</h3>
                        <p><strong>En el servidor:</strong></p>
                        <div class="code-block">
sudo samba-tool domain provision --use-rfc2307 --interactive
                        </div>
                        
                        <p>Responde:</p>
                        <ul>
                            <li>Realm: CLASE.LOCAL</li>
                            <li>Domain: CLASE</li>
                            <li>Server Role: dc</li>
                            <li>DNS backend: SAMBA_INTERNAL</li>
                            <li>DNS forwarder IP address: 8.8.8.8 (u otro DNS externo)</li>
                            <li>Administrator password: por ejemplo Curso2024! (gu√°rdala bien)</li>
                        </ul>
                        
                        <div class="explanation">
                            <h4 class="explanation-title">¬øQu√© est√°s haciendo?</h4>
                            <p>Est√°s creando el "reino gal√°ctico": Nombre del reino: CLASE.LOCAL, Nombre corto: CLASE, Decides que este servidor es el controlador de dominio.</p>
                            
                            <h4 class="explanation-title">¬øPor qu√© es importante?</h4>
                            <p>Este paso construye: La base de datos de usuarios y equipos, la configuraci√≥n de Kerberos, y el DNS interno del dominio. Sin este comando, no hay dominio.</p>
                        </div>
                    </div>
                    
                    <div class="step">
                        <h3 class="step-title">1.5. Ajustar el DNS del servidor para que use Samba</h3>
                        <p><strong>En el servidor:</strong></p>
                        <p>Elimina el enlace viejo de resolv.conf:</p>
                        <div class="code-block">
sudo unlink /etc/resolv.conf
                        </div>
                        
                        <p>Crea uno nuevo:</p>
                        <div class="code-block">
sudo nano /etc/resolv.conf
                        </div>
                        
                        <p>Contenido:</p>
                        <div class="code-block">
nameserver 127.0.0.1
search clase.local
                        </div>
                        
                        <p>Ahora desactiva systemd-resolved:</p>
                        <div class="code-block">
sudo systemctl disable --now systemd-resolved
                        </div>
                        
                        <div class="explanation">
                            <h4 class="explanation-title">¬øQu√© est√°s haciendo?</h4>
                            <p>Le dices al servidor: "Cuando quieras resolver nombres (DNS), preg√∫ntate a ti mismo (127.0.0.1)." Apagas el "otro" servicio de DNS interno de Ubuntu.</p>
                            
                            <h4 class="explanation-title">¬øPor qu√© es importante?</h4>
                            <p>El AD de Samba lleva su propio DNS; si dejas dos DNS mandando, se l√≠a y puede resolver mal el dominio.</p>
                        </div>
                    </div>
                    
                    <div class="step">
                        <h3 class="step-title">1.6. Actualizar la configuraci√≥n de Kerberos</h3>
                        <p><strong>En el servidor:</strong></p>
                        <div class="code-block">
sudo cp -f /var/lib/samba/private/krb5.conf /etc/krb5.conf
                        </div>
                        
                        <div class="explanation">
                            <h4 class="explanation-title">¬øQu√© est√°s haciendo?</h4>
                            <p>Est√°s copiando el fichero Kerberos que Samba ha generado para el dominio.</p>
                            
                            <h4 class="explanation-title">¬øPor qu√© es importante?</h4>
                            <p>Kerberos es quien lleva los "tickets" de identidad. Si krb5.conf no sabe que existe CLASE.LOCAL, los tickets fallan.</p>
                        </div>
                    </div>
                    
                    <div class="step">
                        <h3 class="step-title">1.7. Arrancar el servicio de dominio</h3>
                        <p><strong>En el servidor:</strong></p>
                        <div class="code-block">
sudo systemctl start samba-ad-dc
sudo systemctl status samba-ad-dc
                        </div>
                        
                        <div class="important">
                            <h4 class="important-title">Verificaci√≥n</h4>
                            <p>Debe poner active (running).</p>
                        </div>
                        
                        <div class="explanation">
                            <h4 class="explanation-title">¬øQu√© est√°s haciendo?</h4>
                            <p>Enciendes, por fin, el motor del Cuartel General.</p>
                            
                            <h4 class="explanation-title">¬øPor qu√© es importante?</h4>
                            <p>Mientras samba-ad-dc no est√° arrancado, nadie puede autenticarse contra el dominio.</p>
                        </div>
                    </div>
                    
                    <div class="step">
                        <h3 class="step-title">1.8. Probar Kerberos con Administrator</h3>
                        <p><strong>En el servidor:</strong></p>
                        <div class="code-block">
kinit Administrator
                        </div>
                        <p>Pon la contrase√±a de Administrator (por ejemplo Curso2024!).</p>
                        
                        <p>Despu√©s mira el ticket:</p>
                        <div class="code-block">
klist
                        </div>
                        
                        <div class="explanation">
                            <h4 class="explanation-title">¬øQu√© est√°s haciendo?</h4>
                            <p>kinit: pide un ticket de identidad para el usuario Administrator. klist: te ense√±a los tickets que tienes.</p>
                            
                            <h4 class="explanation-title">¬øPor qu√© es importante?</h4>
                            <p>Si aqu√≠ falla, significa que Kerberos o el dominio no est√°n bien configurados. Si funciona, el servidor ya sabe qui√©n es Administrator@CLASE.LOCAL.</p>
                        </div>
                    </div>
                    
                    <div class="step">
                        <h3 class="step-title">1.9. Crear un usuario de prueba (Laika)</h3>
                        <p><strong>En el servidor:</strong></p>
                        <div class="code-block">
sudo samba-tool user create laika
                        </div>
                        <p>Pon una contrase√±a v√°lida, por ejemplo Laika2024!.</p>
                        
                        <p>Comprueba:</p>
                        <div class="code-block">
sudo samba-tool user list
                        </div>
                        
                        <div class="explanation">
                            <h4 class="explanation-title">¬øQu√© est√°s haciendo?</h4>
                            <p>Creas un usuario de dominio llamado laika.</p>
                            
                            <h4 class="explanation-title">¬øPor qu√© es importante?</h4>
                            <p>Este ser√° el piloto que usemos luego para iniciar sesi√≥n en el cliente. Te demuestra que el dominio puede guardar usuarios.</p>
                        </div>
                    </div>
                </section>
                
                <section id="cliente" class="section">
                    <h2 class="section-title">2. Preparar la Nave Agente (cliente Ubuntu) para unirse al dominio</h2>
                    
                    <div class="important">
                        <h4 class="important-title">Todo lo siguiente es en la VM cliente (agente-01)</h4>
                    </div>
                    
                    <div class="step">
                        <h3 class="step-title">2.1. Asegurar que el cliente usa el DNS del servidor</h3>
                        <p><strong>Opci√≥n escritorio (m√°s t√≠pica en clase):</strong></p>
                        <ul>
                            <li>Ve a Configuraci√≥n ‚Üí Red</li>
                            <li>En la conexi√≥n cableada, pulsa el engranaje</li>
                            <li>Pesta√±a IPv4</li>
                            <li>Deja DHCP para la IP si quieres</li>
                            <li>En DNS, escribe: 192.168.1.10</li>
                            <li>Guarda y reinicia la red (apagando/encendiendo el interruptor de la interfaz)</li>
                        </ul>
                        
                        <p><strong>Comprobaci√≥n:</strong></p>
                        <div class="code-block">
ping -c 3 192.168.1.10
ping -c 3 hq-galactico.clase.local
ping -c 3 clase.local
                        </div>
                        
                        <div class="explanation">
                            <h4 class="explanation-title">¬øQu√© est√°s haciendo?</h4>
                            <p>Le dices al cliente: "Cuando quieras saber qui√©n es clase.local, pregunta a 192.168.1.10."</p>
                            
                            <h4 class="explanation-title">¬øPor qu√© es importante?</h4>
                            <p>realmd y sssd usan DNS para encontrar al servidor de dominio. Si el DNS no apunta al servidor, el cliente no encontrar√° nunca el cuartel general.</p>
                        </div>
                    </div>
                    
                    <div class="step">
                        <h3 class="step-title">2.2. Instalar las herramientas de uni√≥n al dominio</h3>
                        <p><strong>En el cliente:</strong></p>
                        <div class="code-block">
sudo apt update
sudo apt install sssd-ad sssd-tools realmd adcli libnss-sss libpam-sss samba-common-bin oddjob oddjob-mkhomedir packagekit
                        </div>
                        
                        <div class="explanation">
                            <h4 class="explanation-title">¬øQu√© est√°s haciendo?</h4>
                            <p>Instalas realmd (herramienta que descubre dominios y los une), sssd-ad + libs (programa que se conecta al dominio), oddjob-mkhomedir (crea la carpeta /home del usuario), y herramientas extra para hablar con el dominio.</p>
                            
                            <h4 class="explanation-title">¬øPor qu√© es importante?</h4>
                            <p>Estas piezas son el "traductor" entre el cliente Ubuntu y el dominio Samba/AD.</p>
                        </div>
                    </div>
                    
                    <div class="step">
                        <h3 class="step-title">2.3. Descubrir el dominio desde el cliente</h3>
                        <p><strong>En el cliente:</strong></p>
                        <div class="code-block">
realm discover clase.local
                        </div>
                        
                        <div class="explanation">
                            <h4 class="explanation-title">¬øQu√© est√°s haciendo?</h4>
                            <p>Le pides a realmd que busque un dominio llamado clase.local.</p>
                            
                            <h4 class="explanation-title">¬øPor qu√© es importante?</h4>
                            <p>Si el cliente ve el dominio, significa que el DNS funciona y el servidor responde a las peticiones del dominio. Si aqu√≠ falla, no merece la pena seguir hasta arreglar DNS / red.</p>
                        </div>
                    </div>
                    
                    <div class="step">
                        <h3 class="step-title">2.4. Unir el cliente al dominio</h3>
                        <p><strong>En el cliente:</strong></p>
                        <div class="code-block">
sudo realm join clase.local -U Administrator
                        </div>
                        <p>Pon la contrase√±a de Administrator (Curso2024!).</p>
                        
                        <p>Despu√©s comprueba:</p>
                        <div class="code-block">
realm list
                        </div>
                        
                        <div class="explanation">
                            <h4 class="explanation-title">¬øQu√© est√°s haciendo?</h4>
                            <p>Le est√°s diciendo al cliente: "A partir de ahora formas parte del dominio CLASE.LOCAL." Se crea una cuenta de equipo en el dominio y se configura sssd.</p>
                            
                            <h4 class="explanation-title">¬øPor qu√© es importante?</h4>
                            <p>Es el paso que convierte la m√°quina en miembro del reino gal√°ctico. Sin esto, el cliente no puede preguntarle al servidor por los usuarios.</p>
                        </div>
                    </div>
                    
                    <div class="step">
                        <h3 class="step-title">2.5. Activar la creaci√≥n autom√°tica de carpetas personales</h3>
                        <p><strong>En el cliente:</strong></p>
                        <div class="code-block">
sudo pam-auth-update --enable mkhomedir
                        </div>
                        <p>Se abrir√° un men√∫; aseg√∫rate de que la opci√≥n de crear home est√° marcada, confirma con OK.</p>
                        
                        <div class="explanation">
                            <h4 class="explanation-title">¬øQu√© est√°s haciendo?</h4>
                            <p>Le dices al sistema: "Cuando un usuario del dominio entre por primera vez, crea su carpeta /home autom√°ticamente."</p>
                            
                            <h4 class="explanation-title">¬øPor qu√© es importante?</h4>
                            <p>Sin esto, el usuario puede autenticarse, pero no tendr√° una carpeta propia para guardar sus cosas. A nivel pr√°ctico, muchas sesiones fallan o quedan muy raras si no hay /home.</p>
                        </div>
                    </div>
                    
                    <div class="step">
                        <h3 class="step-title">2.6. Comprobar que el cliente ve al usuario de dominio</h3>
                        <p><strong>En el cliente:</strong></p>
                        <div class="code-block">
id laika@clase.local
                        </div>
                        <p>Deber√≠a mostrar algo como uid=... gid=... groups=....</p>
                        
                        <div class="explanation">
                            <h4 class="explanation-title">¬øQu√© est√°s haciendo?</h4>
                            <p>Preguntas al sistema por la "ficha" de laika@clase.local.</p>
                            
                            <h4 class="explanation-title">¬øPor qu√© es importante?</h4>
                            <p>Si aparece informaci√≥n, el cliente est√° hablando correctamente con el dominio y sssd est√° consultando al servidor y devolviendo datos de usuario.</p>
                            <p>Si no aparece nada, hay que revisar: realm list, DNS, que el servidor est√° arrancado (systemctl status samba-ad-dc).</p>
                        </div>
                    </div>
                </section>
                
                <section id="pruebas" class="section">
                    <h2 class="section-title">3. Prueba final: iniciar sesi√≥n como Laika</h2>
                    
                    <div class="step">
                        <h3 class="step-title">3.1. Cliente con escritorio gr√°fico</h3>
                        <ul>
                            <li>Cierra sesi√≥n del usuario local</li>
                            <li>En el login, escoge "Otro usuario" o "Not listed?"</li>
                            <li>En usuario escribe: laika@clase.local</li>
                            <li>En contrase√±a: Laika2024!</li>
                        </ul>
                        
                        <div class="explanation">
                            <h4 class="explanation-title">¬øQu√© est√°s haciendo?</h4>
                            <p>Intentas entrar con un usuario que solo existe en el servidor, no en el cliente.</p>
                            
                            <h4 class="explanation-title">¬øPor qu√© es importante?</h4>
                            <p>Si entras correctamente, has demostrado que el cliente conf√≠a en el dominio, el servidor ha validado la contrase√±a y se ha creado la carpeta de laika.</p>
                        </div>
                    </div>
                    
                    <div class="step">
                        <h3 class="step-title">3.2. Cliente solo consola</h3>
                        <p>En la pantalla de login:</p>
                        <ul>
                            <li>Usuario: laika@clase.local</li>
                            <li>Contrase√±a: Laika2024!</li>
                        </ul>
                        
                        <p>Comprueba:</p>
                        <div class="code-block">
whoami
id
pwd
                        </div>
                        
                        <div class="explanation">
                            <h4 class="explanation-title">¬øQu√© est√°s haciendo?</h4>
                            <p>Verificas que la sesi√≥n realmente es de laika@clase.local y que tiene su entorno.</p>
                            
                            <h4 class="explanation-title">¬øPor qu√© es importante?</h4>
                            <p>Confirma que el inicio de sesi√≥n con usuarios de dominio funciona tambi√©n sin entorno gr√°fico.</p>
                        </div>
                    </div>
                    
                    <div class="success-box">
                        <h4>¬°√âxito de la Misi√≥n! <span class="dog-paw">üêæ</span></h4>
                        <p>Si Laika puede iniciar sesi√≥n en el cliente usando sus credenciales de dominio, <span class="dog-paw">üêï</span> ¬°la pr√°ctica est√° completada exitosamente! <span class="dog-paw">üöÄ</span></p>
                    </div>
                </section>
                
                <section id="resumen" class="section">
                    <h2 class="section-title">4. Resumen mental para el alumnado</h2>
                    
                    <div class="concept-grid">
                        <div class="concept-card">
                            <h3>üè∞ El Cuartel General (Servidor)</h3>
                            <ul>
                                <li>Guarda todos los usuarios del reino CLASE.LOCAL</li>
                                <li>Lleva un DNS propio para el dominio</li>
                                <li>Usa Kerberos para tickets de identidad</li>
                            </ul>
                        </div>
                        
                        <div class="concept-card">
                            <h3>üöÄ Las Naves (Clientes)</h3>
                            <ul>
                                <li>Usan el DNS del servidor (192.168.1.10)</li>
                                <li>Se unen con realm join</li>
                                <li>Preguntan al servidor cada vez que un usuario quiere entrar</li>
                            </ul>
                        </div>
                        
                        <div class="concept-card">
                            <h3>üêï La Tripulaci√≥n (Usuarios)</h3>
                            <p>Usuarios como Laika que pueden:</p>
                            <ul>
                                <li>Iniciar sesi√≥n en cualquier nave del dominio</li>
                                <li>Tener su carpeta personal creada autom√°ticamente</li>
                                <li>Acceder a recursos compartidos del dominio</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="checklist">
                        <h3 class="checklist-title">Checklist de Verificaci√≥n Final</h3>
                        <div class="checklist-item">El servidor tiene IP fija (192.168.1.10)</div>
                        <div class="checklist-item">El servidor responde a ping desde el cliente</div>
                        <div class="checklist-item">El dominio CLASE.LOCAL est√° creado</div>
                        <div class="checklist-item">El usuario laika existe en el dominio</div>
                        <div class="checklist-item">El cliente puede hacer realm discover clase.local</div>
                        <div class="checklist-item">El cliente est√° unido al dominio (realm list)</div>
                        <div class="checklist-item">Se puede hacer id laika@clase.local</div>
                        <div class="checklist-item">Laika puede iniciar sesi√≥n en el cliente</div>
                    </div>
                    
                    <div class="important">
                        <h4 class="important-title">Consejo Final</h4>
                        <p>Recuerda: Si Laika <span class="dog-paw">üêï</span> puede iniciar sesi√≥n en el cliente con su usuario de dominio y funciona, hab√©is montado algo que usan empresas reales en sus redes. <span class="dog-paw">üöÄ</span></p>
                    </div>
                </section>
            </main>
        </div>
        
        <footer>
            <p>Pr√°ctica de configuraci√≥n de dominio con Samba AD DC - 2¬∫ASI_ADSO_25_26</p>
            <p>MISI√ìN GAL√ÅCTICA LAIKA: En honor a la primera astronauta canina üêï‚ú®</p>
        </footer>
    </div>

    <script>
        // Smooth scrolling para la navegaci√≥n
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                window.scrollTo({
                    top: targetElement.offsetTop - 20,
                    behavior: 'smooth'
                });
            });
        });
        
        // Resaltar la secci√≥n actual en la navegaci√≥n
        window.addEventListener('scroll', function() {
            const sections = document.querySelectorAll('.section');
            const navLinks = document.querySelectorAll('.nav-link');
            
            let currentSection = '';
            
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                if (pageYOffset >= sectionTop - 100) {
                    currentSection = section.getAttribute('id');
                }
            });
            
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === '#' + currentSection) {
                    link.classList.add('active');
                }
            });
        });
        
        // Animaci√≥n adicional para los cohetes
        function createRocket() {
            const rocket = document.createElement('div');
            rocket.className = 'rocket';
            rocket.innerHTML = 'üöÄ';
            rocket.style.left = Math.random() * 80 + 10 + '%';
            rocket.style.animationDuration = (Math.random() * 10 + 15) + 's';
            document.body.appendChild(rocket);
            
            setTimeout(() => {
                rocket.remove();
            }, 20000);
        }
        
        // Crear cohetes peri√≥dicamente
        setInterval(createRocket, 5000);
        createRocket(); // Primer cohete
    </script>
</body>
</html>